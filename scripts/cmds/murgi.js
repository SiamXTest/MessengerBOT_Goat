
const moment = require("moment-timezone");

// Store timeout IDs for each user being targeted
const activeTimeouts = new Map();

module.exports = {
  config: {
    name: "murgi",
    aliases: ['murgi'],
    version: "1.0.0",
    author: "Siam Bhau",
    countDown: 5,
    role: 1,
    shortDescription: "à¦à¦Ÿà¦¾ à¦¦à¦¿à§Ÿà§‡ à¦¬à§à¦²à¦¿ à¦¦à§‡à¦“à§Ÿà¦¾ à¦¹à§Ÿà¥¤",
    longDescription: "Chumt",
    category: "fun",
    guide: {
      en: "{pn} @mention or {pn} stop"
    }
  },

  langs: {
    en: {
      notAllowed: "à¦¯à¦¾ à¦­à¦¾à¦— à¦¨à¦¿à¦—à¦¾ à¦šà¦¦à¦¾ðŸ¤¬, à¦†à¦®à¦¾à¦° à¦¬à¦¸ à¦¸à¦¿à¦¯à¦¼à¦¾à¦® à¦¶à§à¦§à§ à¦à¦‡ à¦•à¦®à¦¾à¦¨à§à¦¡ à¦¬à§à¦¯à¦¾à¦¬à¦¹à¦¾à¦° à¦•à¦°à¦¤à§‡ à¦ªà¦¾à¦°à¦¬à§‡!ðŸ’–",
      noMention: "à¦†à¦°à§‡ à¦¬à¦¸ à¦¨à¦¾à¦•à¦¿ðŸ˜® à¦à¦•à¦œà¦¨à¦•à§‡ @mention à¦•à¦°à§à¦¨ à¦šà¦¦à¦¾à¦° à¦œà¦¨à§à¦¯!ðŸ¥°",
      stopped: "Okay Sir à¦šà¦¦à¦¾ à¦¬à¦¨à§à¦§ à¦•à¦°à§‡ à¦¦à¦¿à¦²à§à¦®!"
    }
  },

  onStart: async function({ api, args, Users, event, message, getLang }) {
    const allowedUsers = [
      "100011254804801"
    ];

    if (!allowedUsers.includes(event.senderID)) {
      return message.reply(getLang("notAllowed"));
    }

    // Check if user wants to stop
    if (args[0] && args[0].toLowerCase() === 'stop') {
      if (activeTimeouts.size === 0) {
        return message.reply("à¦¸à¦°à¦¿ à¦¬à¦¸, à¦•à¦¾à¦“à¦•à§‡ à¦šà¦¦à¦¾à¦° à¦œà¦¨à§à¦¯ à¦¬à¦²à§‡à¦¨à¦¨à¦¿! ðŸ˜…");
      }
      
      // Clear all active timeouts
      for (const [key, timeouts] of activeTimeouts.entries()) {
        timeouts.forEach(timeout => clearTimeout(timeout));
        activeTimeouts.delete(key);
      }
      
      return message.reply(getLang("stopped"));
    }

    const mention = Object.keys(event.mentions)[0];
    if (!mention) {
      return message.reply(getLang("noMention"));
    }

    let name = event.mentions[mention];
    var arraytag = [{ id: mention, tag: name }];

    // Clear any existing timeouts for this mention
    if (activeTimeouts.has(mention)) {
      activeTimeouts.get(mention).forEach(timeout => clearTimeout(timeout));
    }
    
    const timeoutIds = [];

    const messages = [
      { delay: 0, text: "à¦šà§à¦¦à¦¾ à¦–à¦¾ kpola" },
      { delay: 3000, text: "à¦–à¦¾à¦‚à¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦®à¦¾à¦°à§‡ à¦šà§à¦¦à¦¿ ðŸ¥°à¥¤" },
      { delay: 5000, text: "à¦–à¦¾à¦‚à¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦•à¦šà¦¿ à¦¬à§‹à¦¨ à¦°à§‡ à¦šà§à¦¦à¦¿ ðŸ˜.." },
      { delay: 7000, text: "à¦®à¦¾à¦¦à¦¾à¦°à¦šà§‹à¦¦ à¦¤à¦° à¦†à¦®à§à¦®à§ à¦ªà¦® à¦ªà¦® à¦–à¦¾à¦‚à¦•à¦¿à¦° à¦ªà§‹ ðŸ°" },
      { delay: 9000, text: "à¦–à¦¾à¦‚à¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦•à¦šà¦¿ à¦­à§à¦¦à¦¾à¦¯à¦¼ à¦­à§à¦¦à¦¾à¦¯à¦¼ à¦•à¦¾à¦®à¦° à¦¦à¦¿à¦®à§  ðŸ’”!" },
      { delay: 12000, text: "à¦–à¦¾à¦‚à¦•à¦¿ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦•à¦¥à¦¾ à¦• à¦•à¦® à¦•à¦® à¦¤à¦° à¦†à¦®à§à¦®à§ à¦°à§‡ à¦šà§à¦¦à§‡ à¦¬à¦¾à¦¨à¦¾à¦®à§ à¦†à¦‡à¦Ÿà§‡à¦® à¦¬à§‹à¦® " },
      { delay: 15000, text: "depression à¦¥à§‡à¦•à§‡à¦“ à¦¤à¦° à¦®à¦¾à¦‡à¦°à§‡ à¦šà§*** à¦¦à¦¿ ðŸ¤¬ " },
      { delay: 17000, text: "à¦¤à¦° à¦†à¦®à§à¦®à§ à¦°à§‡ à¦†à¦šà¦¾à¦° à¦à¦° à¦²à§‹à¦­ à¦¦à§‡à¦–à¦¿ à¦šà§à¦¦à¦¿ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ðŸ¤¬" },
      { delay: 20000, text: "à¦¬à¦¾à¦¨à§à¦¦à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦•à¦šà¦¿ à¦¬à§‹à¦¨à§‡à¦° à¦­à§à¦¦à¦¾ à¦«à¦¾à¦• à¦•à¦° à¦¥à§à¦¤à§ à¦¦à¦¿à¦¯à¦¼à§‡ à¦­à§à¦¦à¦¾à¦¯à¦¼ à¦¦à¦¨ à¦¡à§à¦•à¦¾à¦®à§ ðŸ¤Ÿ" },
      { delay: 23000, text: "à¦¬à¦¾à¦¨à§à¦¦à¦¿ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦†à¦®à§à¦®à§ à¦°à§‡ à¦šà§à¦¦à¦¿ à¦¤à¦° à¦¦à§à¦²à¦¾ à¦­à¦¾à¦‡ à¦à¦° à¦•à¦¾à¦¨à§à¦¦à§‡ à¦«à§‡à¦²à§‡  ðŸ¤" },
      { delay: 25000, text: "à¦‰à¦«à¦«à¦« à¦–à¦¾à¦¦à§à¦¦à¦¾à¦®à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦†à¦®à§à¦®à§à¦° à¦•à¦¾à¦²à¦¾ à¦­à§à¦¦à¦¾à¦¯à¦¼ à¦†à¦®à¦¾à¦° à¦®à¦¾à¦² à¦†à¦‰à¦Ÿ à¦¤à¦° à¦•à¦šà¦¿ à¦¬à§‹à¦¨ à¦°à§‡ à¦‰à¦ªà§à¦¤à¦¾ à¦•à¦°à§‡ à¦à¦¬à¦¾à¦° à¦šà§à¦¦à¦¬à§‹  ðŸ’‰à¥¤" },
      { delay: 28500, text: "à¦…à¦¨à¦²à¦¾à¦‡à¦¨à§‡ à¦—à¦¾à¦²à¦¿ à¦¬à¦¾à¦œ à¦¹à¦¯à¦¼à§‡ à¦—à§‡à¦›à¦¤ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦à¦®à¦¨ à¦šà§à¦¦à¦¾ à¦¦à¦¿à¦®à§ à¦²à¦¾à¦‡à¦« à¦Ÿà¦¾à¦‡à¦® à¦®à¦¨à§‡ à¦°à¦¾à¦–à¦­à¦¿  à¦¨à¦¯à¦¼à¦¨ à¦¤à¦° à¦¬à¦¾à¦ª à¦®à¦¾à¦—à¦¿à¦° à¦›à§‡à¦²à§‡ ðŸ˜˜à¥¤" },
      { delay: 31000, text: "à¦¬à¦¾à¦¤à¦¿à¦œà¦¾ à¦¶à§à¦¨ à¦¤à¦° à¦†à¦®à§à¦®à§ à¦°à§‡ à¦šà§à¦¦à¦²à§‡ à¦°à¦¾à¦— à¦•à¦°à¦¬à¦¿ à¦¨à¦¾ à¦¤à§‹ à¦†à¦šà§à¦›à¦¾ à¦œà¦¾ à¦°à¦¾à¦— à¦•à¦°à¦¿à¦¸ à¦¨à¦¾ à¦¤à¦° à¦†à¦®à§à¦®à§à¦° à¦•à¦¾à¦²à¦¾ à¦­à§à¦¦à¦¾à¦¯à¦¼ à¦†à¦° à¦šà§à¦¦à¦²à¦¾à¦® à¦¨à¦¾ à¦¤à§‹ à¦¬à§‹à¦¨ à¦à¦° à¦œà¦¾à¦®à¦¾ à¦Ÿà¦¾ à¦–à§à¦²à§‡ à¦¦à§‡  âœ‹" },
      { delay: 36000, text: " à¦¹à¦¾à¦‡ à¦®à¦¾à¦¦à¦¾à¦°à¦šà§‹à¦¦ à¦¤à¦° à¦¤à¦° à¦¬à§à¦¯à¦¾à¦¶à¦¾ à¦œà¦¾à¦¤à§‡à¦° à¦†à¦®à§à¦®à§ à¦Ÿà¦¾ à¦°à§‡ à¦†à¦¦à¦° à¦•à¦°à§‡ à¦•à¦°à§‡ à¦šà§à¦¦à¦¿ " },
      { delay: 39000, text: "~ à¦šà§à¦¦à¦¾ à¦•à¦¿ à¦†à¦°à§‹ à¦–à¦¾à¦¬à¦¿ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦² ðŸ¤–" },
      { delay: 42000, text: "à¦–à¦¾à¦‚à¦•à¦¿à¦° à¦ªà§‹à¦²à¦¾ ðŸ¥°à¥¤" },
      { delay: 48000, text: "à¦®à¦¾à¦¦à¦¾à¦°à¦šà§‹à¦¦ðŸ˜.." },
      { delay: 51000, text: "à¦¬à§à¦¯à¦¾à¦¸à§à¦¯à¦¾à¦° à¦ªà§‹à¦²à¦¾ ðŸ°" },
      { delay: 54000, text: "à¦¬à§à¦¯à¦¾à¦¶à§à¦¯à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾  ðŸ’”!" },
      { delay: 57000, text: "à¦ªà¦¤à¦¿à¦¤à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ " },
      { delay: 59400, text: "depression à¦¥à§‡à¦•à§‡à¦“ à¦¤à¦° à¦®à¦¾à¦‡à¦°à§‡ à¦šà§*** à¦¦à¦¿ ðŸ¤¬ " },
      { delay: 63000, text: "à¦¤à¦° à¦®à¦¾à¦°à§‡ à¦šà§à¦¦à¦¿" },
      { delay: 66000, text: "à¦¨à¦¾à¦Ÿ à¦¬à¦²à§à¦Ÿà§ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ðŸ¤Ÿ" },
      { delay: 69000, text: "à¦¤à¦° à¦¬à§‹à¦¨ à¦°à§‡ à¦ªà¦¾à¦¯à¦¼à¦œà¦¾à¦®à¦¾ à¦–à§à¦²à§‡ à¦šà§à¦¦à¦¿ ðŸ¤£" },
      { delay: 72000, text: "à¦‰à¦®à§à¦®à¦®à§à¦®à¦¾ à¦¤à¦° à¦¬à§‹à¦¨ à¦à¦°à¦•à¦šà¦¿ à¦­à§à¦¦à¦¾à¦¯à¦¼ðŸ’‰à¥¤" },
      { delay: 75000, text: "DNA à¦Ÿà§‡à¦·à§à¦Ÿ à¦•à¦°à¦¾ à¦¦à§‡à¦–à¦¬à¦¿ à¦†à¦®à¦¾à¦° à¦šà§à¦¦à¦¾ à¦¤à§‡à¦‡ à¦¤à¦° à¦œà¦¨à§à¦®à¥¤" },
      { delay: 81000, text: "à¦•à¦¾à¦®à¦²à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾  âœ‹" },
      { delay: 87000, text: " à¦¬à¦¾à¦¸à§à¦Ÿà§à¦°à¦¾à¦¡ à¦à¦° à¦¬à¦¾à¦šà§à¦›à¦¾ à¦¬à¦¸à§à¦¤à¦¿à¦° à¦ªà§‹à¦²à¦¾ " },
      { delay: 93000, text: "~ à¦†à¦®à¦¾à¦° à¦œà¦¾à¦°à¦œ à¦¶à¦¨à§à¦¤à¦¾à¦¨ðŸ¤–" },
      { delay: 99000, text: "Welcome à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ ðŸ¥°à¥¤" },
      { delay: 105000, text: "à¦¤à¦° à¦•à¦šà¦¿ à¦¬à§‹à¦¨ à¦à¦° à¦ªà¦® à¦ªà¦®ðŸ˜.." },
      { delay: 111000, text: "à¦¬à§à¦¯à¦¾à¦¸à§à¦¯à¦¾à¦° à¦ªà§‹à¦²à¦¾ à¦•à¦¥à¦¾ à¦¶à§à¦¨ à¦¤à¦° à¦†à¦®à§à¦®à§ à¦°à§‡ à¦šà§à¦¦à¦¿ à¦—à¦¾à¦®à¦›à¦¾ à¦ªà§‡à¦šà¦¿à¦¯à¦¼à§‡ðŸ°" },
      { delay: 114000, text: "Hi à¦†à¦®à¦¾à¦° à¦œà¦¾à¦°à¦œ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾  ðŸ’”!" },
      { delay: 120000, text: "à§¨à§¦ à¦Ÿà¦¾à¦•à¦¾ à¦ à¦ªà¦¤à¦¿à¦¤à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ " },
      { delay: 126000, text: "depression à¦¥à§‡à¦•à§‡à¦“ à¦¤à¦° à¦®à¦¾à¦‡à¦°à§‡ à¦šà§*** à¦¦à¦¿ ðŸ¤¬ " },
      { delay: 132000, text: "à¦¬à¦¸à§à¦¤à¦¿à¦° à¦›à§‡à¦²à§‡ à¦…à¦¨à¦²à¦¾à¦‡à¦¨à§‡à¦° à¦•à¦¿à¦‚" },
      { delay: 138000, text: "à¦Ÿà§à¦•à¦¾à¦‡ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ðŸ¤Ÿ" },
      { delay: 144000, text: "à¦¤à¦° à¦†à¦®à§à¦®à§ à¦°à§‡ à¦ªà¦¾à¦¯à¦¼à¦œà¦¾à¦®à¦¾ à¦–à§à¦²à§‡ à¦šà§à¦¦à¦¿ ðŸ¤£" },
      { delay: 150000, text: "à¦‰à¦®à§à¦®à¦®à§à¦®à¦¾ à¦¤à¦° à¦¬à§‹à¦¨ à¦à¦°à¦•à¦šà¦¿ à¦­à§à¦¦à¦¾à¦¯à¦¼ðŸ’‰à¥¤" },
      { delay: 156000, text: "DNA à¦Ÿà§‡à¦·à§à¦Ÿ à¦•à¦°à¦¾ à¦¦à§‡à¦–à¦¬à¦¿ à¦†à¦®à¦¾à¦° à¦šà§à¦¦à¦¾ à¦¤à§‡à¦‡ à¦¤à¦° à¦œà¦¨à§à¦®à¥¤" },
      { delay: 162000, text: "à¦¹à¦¿à¦œà¦²à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾  âœ‹" },
      { delay: 168000, text: " à¦¬à¦¸à§à¦¤à¦¿à¦°à¦¨à§à¦¦à¦¾à¦²à¦¾à¦² à¦à¦° à¦¬à¦¾à¦šà§à¦›à¦¾ à¦¬à¦¸à§à¦¤à¦¿à¦° à¦ªà§‹à¦²à¦¾ " },
      { delay: 171000, text: "~ à¦†à¦®à¦¾à¦° à¦œà¦¾à¦°à¦œ à¦¶à¦¨à§à¦¤à¦¾à¦¨ à¦œà¦¾ à¦­à¦¾à¦—ðŸ¤–" },
      { delay: 174000, text: "Welcome à¦¶à§à¦¯à¦¼à§‹à¦°à§‡à¦° à¦¬à¦¾à¦šà§à¦šà¦¾ ðŸ¥°à¥¤" },
      { delay: 177000, text: "à¦•à§à¦¤à§à¦¤à¦¾à¦° à¦¬à¦¾à¦šà§à¦›à¦¾ à¦¤à¦° à¦•à¦šà¦¿ à¦¬à§‹à¦¨ à¦à¦° à¦ªà¦® à¦ªà¦®ðŸ˜.." },
      { delay: 180000, text: "à¦–à¦¾à¦™à§à¦•à¦¿à¦°à¦ªà§‹à¦²à¦¾ à¦ªà§‹à¦²à¦¾ à¦•à¦¥à¦¾ à¦¶à§à¦¨ à¦¤à¦° à¦†à¦®à§à¦®à§ à¦°à§‡ à¦šà§à¦¦à¦¿ à¦—à¦¾à¦®à¦›à¦¾ à¦ªà§‡à¦šà¦¿à¦¯à¦¼à§‡ðŸ°" },
      { delay: 183000, text: "Hi à¦†à¦®à¦¾à¦¦à§‡à¦° à¦à¦° à¦œà¦¾à¦°à¦œ à¦ªà§‹à¦²à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾  ðŸ’”!" },
      { delay: 186000, text: "à¦–à¦¾à¦¨à§à¦•à¦¿ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ " },
      { delay: 189000, text: "à¦¤à§‹à¦° à¦¬à¦¾à¦ªà§‡ à¦¤à§‹à¦° à¦¨à¦¾à¦¨à¦¾à¥¤ ðŸ¤¬ " },
      { delay: 192000, text: "à¦¬à¦¸à§à¦¤à¦¿à¦° à¦›à§‡à¦²à§‡ à¦¤à§‹à¦° à¦¬à¦‡à¦¨à¦°à§‡ à¦®à§à¦¸à¦²à¦®à¦¾à¦¨à¦¿ à¦¦à¦¿à¦®à§à¥¤" },
      { delay: 195000, text: "à¦Ÿà§à¦•à¦¾à¦‡ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦®à§‹à¦¬à¦¾à¦‡à¦² à¦­à¦¾à¦‡à¦¬à§à¦°à§‡à¦¶à¦¨ à¦•à¦‡à¦°à¦¾ à¦¤à§à¦° à¦•à¦šà¦¿ à¦¬à§‹à¦¨ à¦à¦° à¦ªà§à¦•à¦Ÿà¦¿à¦¤à§‡ à¦­à¦°à¦¬à§‹à¥¤ðŸ¤Ÿ" },
      { delay: 198000, text: "à¦¤à§‹à¦° à¦®à§à¦–à§‡ à¦¹à¦¾à¦‡à¦—à§à¦¯à¦¾ à¦¦à¦¿à¦®à§à¥¤ ðŸ¤£" },
      { delay: 201000, text: "à¦•à§à¦¤à§à¦¤à¦¾à¦° à¦ªà§à¦•à¦Ÿà¦¿ à¦šà¦¾à¦Ÿà¦¾à¦®à§ðŸ’‰à¥¤" },
      { delay: 204000, text: "à¦¤à¦° à¦†à¦®à§à¦®à§à¦° à¦¹à§‹à¦—à¦¾ à¦¦à¦¿à¦¯à¦¼à¦¾ à¦Ÿà§à¦°à§‡à¦¨ à¦­à¦‡à¦°à¦¾ à¦¦à¦¿à¦®à§à¥¤à¥¤" },
      { delay: 207000, text: "à¦¹à¦¿à¦œà¦²à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¹à¦¾à¦¤à¦¿à¦° à¦²à§à¦¯à¦¾à¦“à¦¡à¦¼à¦¾ à¦¦à¦¿à¦¯à¦¼à¦¾ à¦¤à¦° à¦®à¦¾à¦¯à¦¼à§‡à¦°à§‡ à¦šà§à¦¦à§à¦®à¥¤  âœ‹" },
      { delay: 210000, text: "à¦¤à¦° à¦¬à§‹à¦¨ à¦­à§‹à¦¦à¦¾ à¦›à¦¿à¦²à§à¦²à¦¾ à¦²à¦¬à¦£ à¦²à¦¾à¦—à¦¾à¦¯à¦¼ à¦¦à¦¿à¦®à§à¥¤ " },
      { delay: 213000, text: "~ à¦†à¦®à¦¾à¦° à¦«à¦¾à¦Ÿà¦¾ à¦•à¦¨à§à¦¡à¦®à§‡à¦° à¦«à¦¸à¦²à¥¤ à¦œà¦¾ à¦­à¦¾à¦—ðŸ¤–" },
      { delay: 216000, text: "Welcome à¦¶à§à¦¯à¦¼à§‹à¦°à§‡à¦° à¦¬à¦¾à¦šà§à¦šà¦¾ ðŸ¥°à¥¤" },
      { delay: 219000, text: "à¦•à§à¦¤à§à¦¤à¦¾à¦° à¦¬à¦¾à¦šà§à¦›à¦¾ à¦¤à¦° à¦¬à§Œà¦¨ à¦­à§‹à¦¦à¦¾à¦¯à¦¼ à¦®à¦¾à¦—à§à¦° à¦®à¦¾à¦› à¦šà¦¾à¦· à¦•à¦°à§à¦®à¥¤ðŸ˜.." },
      { delay: 222000, text: "à¦–à¦¾à¦™à§à¦•à¦¿à¦°à¦ªà§‹à¦²à¦¾ à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦¬à§‹à¦¨à§‡à¦°  à¦¹à§‹à¦—à¦¾à¦¯à¦¼ à¦‡à¦¨à¦ªà§à¦Ÿ, à¦¤à¦° à¦®à¦¾à¦¯à¦¼à§‡à¦° à¦­à§‹à¦¦à¦¾à¦¯à¦¼ à¦†à¦‰à¦Ÿà¦ªà§à¦Ÿà¥¤ðŸ°" },
      { delay: 225000, text: "à¦¤à¦° à¦®à¦¾à¦¯à¦¼à§‡à¦° à¦­à§‹à¦¦à¦¾ à¦¬à§‹à¦®à§à¦¬à¦¾à¦‡ à¦®à¦°à¦¿à¦š à¦¦à¦¿à¦¯à¦¼à¦¾ à¦šà§à¦¦à¦¾à¦®à§à¥¤ðŸ’”!" },
      { delay: 228000, text: "à¦–à¦¾à¦¨à§à¦•à¦¿ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦®à¦¾à¦¯à¦¼à§‡à¦° à¦­à§‹à¦¦à¦¾ à¦¶à¦¿à¦°à¦¿à¦· à¦•à¦¾à¦—à¦œ à¦¦à¦¿à¦¯à¦¼à¦¾ à¦˜à¦‡à¦·à¦¾ à¦¦à¦¿à¦®à§à¥¤ " },
      { delay: 231000, text: "à¦œà¦‚ à¦§à¦°à¦¾ à¦²à§‹à¦¹à¦¾ à¦¦à¦¿à¦¯à¦¼à¦¾ à¦ªà¦¾à¦•à¦¿à¦¸à§à¦¤à¦¾à¦¨à§‡à¦° à¦®à¦¾à¦¨à¦šà¦¿à¦¤à§à¦° à¦¬à¦¾à¦¨à¦¾à¦‡à§à¦¯à¦¼à¦¾ à¦¤à§‹à¦¦à§‡à¦° à¦ªà¦¿à¦›à¦¨ à¦¦à¦¿à¦¯à¦¼à¦¾ à¦¢à§à¦•à¦¾à¦®à§à¥¤ðŸ¤¬ " },
      { delay: 234000, text: "à¦¬à¦¸à§à¦¤à¦¿à¦° à¦›à§‡à¦²à§‡ à¦¤à¦° à¦®à¦¾à¦¯à¦¼à§‡à¦° à¦­à§à¦¦à¦¾à¦¤à§‡ à¦ªà§‹à¦•à¦¾à¥¤" },
      { delay: 237000, text: "à¦Ÿà§à¦•à¦¾à¦‡ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¤à¦° à¦®à¦¾à¦° à¦­à§‹à¦¦à¦¾à¦¯à¦¼ à¦ªà¦¾à¦¬à§à¦²à¦¿à¦• à¦Ÿà¦¯à¦¼à¦²à§‡à¦Ÿà¥¤ðŸ¤Ÿ" },
      { delay: 240000, text: "à¦¤à§‹à¦° à¦®à§à¦–à§‡ à¦¹à¦¾à¦‡à¦—à§à¦¯à¦¾ à¦¦à¦¿à¦®à§à¥¤ à¦­à§à¦¸à§à¦•à¦¿ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ ðŸ¤£" },
      { delay: 243000, text: "à¦•à¦¾à¦¨à§à¦¦à§‡ à¦«à¦¾à¦²à¦¾à¦‡à¦¯à¦¼à¦¾ à¦¤à¦° à¦®à¦¾à¦¯à¦¼à§‡à¦°à§‡ à¦šà§à¦¦à¦¿ðŸ’‰à¥¤" },
      { delay: 246000, text: "à¦¤à¦° à¦†à¦®à§à¦®à§à¦° à¦‰à¦ªà§à¦¤à¦¾ à¦•à¦‡à¦°à¦¾ à¦šà§à¦¦à¦¾ à¦¦à¦¿à¦®à§à¥¤à¥¤" },
      { delay: 249000, text: "à¦¹à¦¿à¦œà¦²à¦¾ à¦®à¦¾à¦—à¦¿à¦° à¦ªà§‹à¦²à¦¾ à¦¬à¦¾à¦²à¦¿ à¦¦à¦¿à¦¯à¦¼à¦¾ à¦šà§à¦¦à¦®à§ à¦¤à¦°à§‡ à¦–à¦¾à¦™à§à¦•à¦¿ à¦®à¦¾à¦—à§€!à¦¤à¦° à¦®à¦¾à¦•à§‡à¥¤  âœ‹" },
      { delay: 252000, text: "à¦¤à¦° à¦¬à§‹à¦¨ à¦­à§‹à¦¦à¦¾ à¦›à¦¿à¦²à§à¦²à¦¾ à¦²à¦¬à¦£ à¦²à¦¾à¦—à¦¾à¦¯à¦¼ à¦¦à¦¿à¦®à§à¥¤ " },
      { delay: 255000, text: "~ à¦†à¦®à¦¾à¦° à¦ªà§à¦¤à¥¤ à¦œà¦¾ à¦­à¦¾à¦—ðŸ¤–" }
    ];

    for (const msg of messages) {
      const timeoutId = setTimeout(() => {
        if (msg.text.includes("~")) {
          message.send(msg.text);
        } else {
          message.send({ body: msg.text + " " + name, mentions: arraytag });
        }
        
        // Remove this timeout from the array once it's executed
        const index = timeoutIds.indexOf(timeoutId);
        if (index > -1) {
          timeoutIds.splice(index, 1);
        }
        
        // Clean up the map if all timeouts are done
        if (timeoutIds.length === 0) {
          activeTimeouts.delete(mention);
        }
      }, msg.delay);
      
      timeoutIds.push(timeoutId);
    }

    // Store the timeout IDs
    activeTimeouts.set(mention, timeoutIds);
  }
};
